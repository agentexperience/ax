---
import Logo from "./LogoMark.astro";

const currentPath = Astro.url.pathname;
const isHomePage = currentPath === "/";

// Don't show the header on the home page
if (isHomePage) {
  return null;
}

const navItems = [
  { href: "/concepts/getting-started", label: "Concepts" },
  { href: "/articles", label: "Articles" },
  { href: "/research", label: "Research" },
  {
    href: "https://github.com/orgs/agentexperience/discussions",
    label: "Get involved!",
    external: true,
  },
];
---

<header class="h-16 font-grotesk">
  <div
    class="mx-auto px-4 sm:px-8 md:px-12 h-full flex items-center justify-between max-w-7xl"
  >
    <a
      href="/"
      class="relative inline-flex items-center text-lg font-semibold hover:text-accent transition-colors group overflow-visible"
    >
      <span class="hidden sm:inline">Agent Experience</span>
      <span class="sm:hidden">AX</span>
      <Logo
        className="ml-2 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:translate-x-0 translate-x-[-10px] logo-shake"
        size={12}
      />
    </a>
    <nav class="flex items-start md:gap-1 mt-4">
      {
        navItems.map((item) => (
          <a
            href={item.href}
            target={item.external ? "_blank" : ""}
            class:list={[
              "text-text-dark hover:text-accent transition-colors px-1 py-2 min-w-[80px] md:min-w-[100px] text-center text-sm md:text-base whitespace-nowrap flex flex-col items-center gap-2",
              { "font-medium relative": currentPath.startsWith(item.href) },
            ]}
          >
            {item.label}{" "}
            {currentPath.startsWith(item.href) && (
              <Logo className="" size={8} />
            )}
          </a>
        ))
      }
    </nav>
  </div>
</header>

<style>
  @keyframes logo-shake {
    0%,
    100% {
      transform: rotate(0deg);
    }
    25% {
      transform: rotate(-1deg);
    }
    75% {
      transform: rotate(1deg);
    }
  }

  .logo-shake {
    animation: logo-shake 0.5s ease-in-out;
    animation-delay: 0.15s;
  }
</style>
